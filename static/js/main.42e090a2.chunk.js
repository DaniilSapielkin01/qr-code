(this.webpackJsonpqr=this.webpackJsonpqr||[]).push([[0],{122:function(e,t,n){e.exports={QRreader:"QRreader_QRreader__2o0nq"}},202:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n(0),a=n(13),o=n.n(a),j=n(42),s=n(64),i=n(16),l=n(295),b=Object(i.b)({form:l.a}),d=Object(i.d)(b),O=n(12),u=n(290),x=(n(202),n(43)),h=n(120),m=n.n(h),g=n(122),f=n.n(g),p=function(e){var t=e.handleScan,n=e.handleError;return Object(c.jsxs)("div",{className:f.a.QRreader,children:[Object(c.jsx)(m.a,{delay:100,onError:n,onScan:t,style:{width:"40%",margin:"5% auto"}}),Object(c.jsx)("h3",{children:"Please scan your QR code"})]})},S=function(e){var t=Object(r.useState)(""),n=Object(x.a)(t,2),a=n[0],o=n[1],j=localStorage.getItem("jwt");return a&&j?Object(c.jsx)(O.a,{to:"/result?r=".concat(a.keyScan)}):Object(c.jsx)(c.Fragment,{children:j?Object(c.jsx)(p,{handleScan:function(e){if(e){localStorage.setItem("jwtScan",btoa(e));var t=localStorage.getItem("jwtScan");o({keyScan:t})}},handleError:function(e){console.error(e)}}):Object(c.jsx)(O.a,{to:"/login"})})},v=n(91),w=n(126),y=n(294),k=n(285),I=n(291),_=n(293),C=n(292),Q=n(92),R=n.n(Q),E=function(e){var t=e.label,n=e.input,r=e.meta,a=r.touched,o=r.invalid,j=r.error,s=Object(w.a)(e,["label","input","meta"]);return Object(c.jsx)(I.a,Object(v.a)(Object(v.a)({label:t,placeholder:t,error:a&&o,helperText:a&&j},n),s))},F=Object(C.a)({form:"loginForm"})((function(e){var t=e.handleSubmit;return Object(c.jsx)(k.a,{container:!0,direction:"row",justify:"center",children:Object(c.jsxs)("div",{className:R.a.loginCard,children:[Object(c.jsxs)("form",{children:[Object(c.jsx)(_.a,{name:"login",label:"Login",component:E}),Object(c.jsx)(_.a,{name:"password",label:"Password",component:E,type:"password"})]}),Object(c.jsx)("div",{className:R.a.btn,children:Object(c.jsx)(y.a,{variant:"contained",color:"primary",onClick:t,children:"Sign in"})})]})})})),L=function(e){var t=Object(r.useState)(!1),n=Object(x.a)(t,2),a=n[0],o=n[1];return Object(c.jsx)(c.Fragment,{children:a?Object(c.jsx)(O.a,{to:"/scan"}):Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Login"}),Object(c.jsx)(F,{onSubmit:function(e){var t=e.login,n=e.password;t&&n&&(localStorage.setItem("jwt",btoa("".concat(t,'":"').concat(n))),e.login="",e.password="",o(!0))}})]})})},q=n(288),N=n(289),P=n(286),A=n(287),J=n(7),K=Object(J.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:16}}}))(P.a),T=function(e){var t=e.keyInfo,n=e.scanKey,r=e.logout;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(A.a,{style:{width:"80%",margin:"auto"},children:[Object(c.jsx)(q.a,{children:Object(c.jsxs)(N.a,{children:[Object(c.jsx)(K,{children:"Password"}),Object(c.jsx)(K,{children:"Email"}),Object(c.jsx)(K,{children:"QR code "})]})}),Object(c.jsxs)(N.a,{children:[t.map((function(e){return Object(c.jsx)(P.a,{children:e},e)})),Object(c.jsx)(P.a,{children:Object(c.jsx)("a",{href:n,children:Object(c.jsx)("h3",{children:n})})})]})]}),Object(c.jsx)(y.a,{variant:"contained",color:"primary",onClick:r,style:{marginTop:"30px"},children:"Logout in"})]})},z=function(e){var t=Object(r.useState)(!1),n=Object(x.a)(t,2),a=n[0],o=n[1],j=atob(localStorage.getItem("jwt")).split('":"'),s=atob(localStorage.getItem("jwtScan"));return Object(c.jsx)(c.Fragment,{children:a?Object(c.jsx)(O.a,{to:"/login"}):Object(c.jsx)("div",{children:Object(c.jsx)(T,{keyInfo:j,scanKey:s,logout:function(){o(!0),localStorage.clear()}})})})},B=Object(i.c)(O.f)((function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(u.a,{maxWidth:"md",children:[Object(c.jsx)(O.a,{from:"/",to:"/scan"}),Object(c.jsx)(O.b,{path:"/scan",render:function(){return Object(c.jsx)(S,{})}}),Object(c.jsx)(O.b,{path:"/login",render:function(){return Object(c.jsx)(L,{})}}),Object(c.jsx)(O.b,{path:"/result",render:function(){return Object(c.jsx)(z,{})}})]})})}));o.a.render(Object(c.jsx)(s.a,{basename:"/qr-code",children:Object(c.jsx)(j.a,{store:d,children:Object(c.jsx)(B,{})})}),document.getElementById("root"))},92:function(e,t,n){e.exports={loginCard:"Login_loginCard__3Al-t",btn:"Login_btn__172Gj"}}},[[246,1,2]]]);
//# sourceMappingURL=main.42e090a2.chunk.js.map