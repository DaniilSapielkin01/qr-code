(this.webpackJsonpqr=this.webpackJsonpqr||[]).push([[0],{121:function(e,t,n){e.exports={QRreader:"QRreader_QRreader__2o0nq"}},202:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(0),r=n(12),o=n.n(r),s=n(41),j=n(64),i=n(16),l=n(285),d=Object(i.b)({form:l.a}),b=Object(i.d)(d),O=n(11),u=n(280),x=(n(202),n(42)),h=n(119),m=n.n(h),f=n(121),g=n.n(f),p=function(e){var t=e.handleScan,n=e.handleError;return Object(c.jsxs)("div",{className:g.a.QRreader,children:[Object(c.jsx)(m.a,{delay:100,onError:n,onScan:t,style:{width:"40%",margin:"5% auto"}}),Object(c.jsx)("h3",{children:"Please scan your QR code"})]})},v=function(e){var t=Object(a.useState)(""),n=Object(x.a)(t,2),r=n[0],o=n[1],s=localStorage.getItem("jwt");return r&&s?Object(c.jsx)(O.a,{to:"/result?r=".concat(r.keyScan)}):Object(c.jsx)(c.Fragment,{children:s?Object(c.jsx)(p,{handleScan:function(e){if(e){localStorage.setItem("jwtScan",btoa(e));var t=localStorage.getItem("jwtScan");o({keyScan:t})}},handleError:function(e){console.error(e)}}):Object(c.jsx)(O.a,{to:"/login"})})},S=n(90),w=n(125),y=n(284),_=n(279),I=n(281),k=n(283),N=n(282),R=n(91),L=n.n(R),Q=function(e){var t=e.label,n=e.input,a=e.meta,r=a.touched,o=a.invalid,s=a.error,j=Object(w.a)(e,["label","input","meta"]);return Object(c.jsx)(I.a,Object(S.a)(Object(S.a)({label:t,placeholder:t,error:r&&o,helperText:r&&s},n),j))},C=Object(N.a)({form:"loginForm"})((function(e){var t=e.handleSubmit;return Object(c.jsx)(_.a,{container:!0,direction:"row",justify:"center",children:Object(c.jsxs)("div",{className:L.a.loginCard,children:[Object(c.jsxs)("form",{children:[Object(c.jsx)(k.a,{name:"login",label:"Login",component:Q}),Object(c.jsx)(k.a,{name:"password",label:"Password",component:Q,type:"password"})]}),Object(c.jsx)("div",{className:L.a.btn,children:Object(c.jsx)(y.a,{variant:"contained",color:"primary",onClick:t,children:"Sign in"})})]})})})),q=function(e){var t=Object(a.useState)(!1),n=Object(x.a)(t,2),r=n[0],o=n[1];return Object(c.jsx)(c.Fragment,{children:r?Object(c.jsx)(O.a,{to:"/scan"}):Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Login"}),Object(c.jsx)(C,{onSubmit:function(e){var t=e.login,n=e.password;t&&n&&(localStorage.setItem("jwt",btoa("".concat(t,'":"').concat(n))),e.login="",e.password="",o(!0))}})]})})},E=n(55),F=n.n(E),P=function(e){var t=e.keyInfo,n=e.scanKey,a=e.logout;return Object(c.jsxs)("div",{className:F.a.card,children:[Object(c.jsxs)("div",{className:F.a.cardInfo,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"Login: "}),Object(c.jsx)("p",{children:"Password: "})]}),Object(c.jsx)("div",{className:F.a.cardInfoTitle,children:t.map((function(e){return Object(c.jsx)("div",{children:Object(c.jsx)("p",{children:e})},e)}))})]}),Object(c.jsxs)(_.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",children:[Object(c.jsxs)("div",{className:F.a.infoScan,children:["Link on QR:",Object(c.jsx)("a",{href:n,children:Object(c.jsx)("h3",{children:n})})]}),Object(c.jsx)("div",{children:Object(c.jsx)(y.a,{variant:"contained",color:"primary",onClick:a,children:"Logout in"})})]})]})},J=function(e){var t=Object(a.useState)(!1),n=Object(x.a)(t,2),r=n[0],o=n[1],s=atob(localStorage.getItem("jwt")).split('":"'),j=atob(localStorage.getItem("jwtScan"));return Object(c.jsx)(c.Fragment,{children:r?Object(c.jsx)(O.a,{to:"/login"}):Object(c.jsx)("div",{children:Object(c.jsx)(P,{keyInfo:s,scanKey:j,logout:function(){o(!0),localStorage.clear()}})})})},A=Object(i.c)(O.f)((function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(u.a,{maxWidth:"md",children:[Object(c.jsx)(O.a,{from:"/",to:"/scan"}),Object(c.jsx)(O.b,{path:"/scan",render:function(){return Object(c.jsx)(v,{})}}),Object(c.jsx)(O.b,{path:"/login",render:function(){return Object(c.jsx)(q,{})}}),Object(c.jsx)(O.b,{path:"/result",render:function(){return Object(c.jsx)(J,{})}})]})})}));o.a.render(Object(c.jsx)(j.a,{basename:"/qr-code",children:Object(c.jsx)(s.a,{store:b,children:Object(c.jsx)(A,{})})}),document.getElementById("root"))},55:function(e,t,n){e.exports={cardInfo:"Result_cardInfo__3hSPp",infoScan:"Result_infoScan__1Jnid"}},91:function(e,t,n){e.exports={loginCard:"Login_loginCard__3Al-t",btn:"Login_btn__172Gj"}}},[[246,1,2]]]);
//# sourceMappingURL=main.b77e3fc4.chunk.js.map